

<input type="file" id="uploadFile" name="UploadFile" #fileUploadInput accept=".csv" (change)="selectFile($event)"/>
<!--******************-->
<div class="checkout-wrap">
    <ul class="checkout-bar">
        <li [ngClass]="{active: currentStep == 1, visited: currentStep >1}" (click)="currentStep = 1;">Importer un fichier</li>
        <li [ngClass]="{active: currentStep == 1, visited: currentStep >1}" (click)="currentStep = 2;">Envoyer
           <!--  <a href="" data-toggle="collapse " (click)="currentStep = 3;" [ngClass]="{adisabled: currentStep !=2">
                <i class="fa fa-caret-square-o-right fa-lg" aria-hidden ="true"></i>
            </a> -->
        </li>
        <li [ngClass]="{active: currentStep == 3, visited: currentStep >3}" (click)="currentStep=3;">Récupérer les données</li>
        
    </ul>
</div>

<div [ngSwitch]="currentStep">
    <div *ngSwitchCase="1">
        step 1
        <ng-container *ngIf="dataArray; else emptyData">
            <!-- table pour afficher les données récupérer -->
                <table class="table table-hover">
                    <thead>
                        <tr class="thead-light">
                            <th *ngFor="let dataModel of dataModelListFiltred">{{dataModel.columnReference}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of dataArray">
                            <td *ngFor="let dataModel of dataModelListFiltred">{{item[dataModel.columnName]}}</td>
                        </tr>
                    </tbody>
                </table>
        </ng-container>
        <ng-template *ngIf="!dataArray">
           <p>Aucune données importée.</p> 
        </ng-template> 
    </div>

    <div *ngSwitchCase="2">
        <ng-container *ngIf="!dataSentToServer">
            <p>Cliquer pour envoyer les données au serveur.</p>
            <button class="btn btn-default" (click)="sendDataToServer()">Send Data</button>
        </ng-container>
        <ng-template *ngIf="dataSentToServer">
           <p>L'envoi est terminé .</p>
        </ng-template> 
    </div>

    <div *ngSwitchCase="3">
        <ng-container *ngIf="dataFromServer">
            <p>data from server here.</p>
            <ng-template *ngIf="!dataFromServer">
                <p>Aucune Données récuperées.</p>
            </ng-template> 
        </ng-container>
    </div>
</div>


